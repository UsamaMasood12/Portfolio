"use strict";(self.webpackChunkusama_masood_portfolio=self.webpackChunkusama_masood_portfolio||[]).push([[162],{5162:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var a=s(9379),o=s(3986),r=s(5043),n=s(7008),l=s(7772),i=s(638),c=s(9755),d=s(763),m=s(430),h=s(7834),u=s(1172),x=s(6820),b=s(4419),p=s(9285),g=s(2530),f=s(4187),j=s(579);const w=["node","inline","className","children"],v=e=>{let{message:t,darkMode:s}=e;const r="user"===t.role,n=t.isError;return(0,j.jsx)("div",{className:"flex ".concat(r?"justify-end":"justify-start"),children:(0,j.jsx)("div",{className:"max-w-[85%] rounded-2xl ".concat(r?"bg-gradient-to-r from-amber-500 to-amber-600 text-white":n?"bg-red-100 text-red-900 border border-red-300":s?"bg-slate-800 text-slate-100 border border-slate-700":"bg-white text-slate-800 border border-slate-200"),children:(0,j.jsx)("div",{className:"p-3",children:r?(0,j.jsx)("p",{className:"text-sm",children:t.content}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"prose prose-sm max-w-none ".concat(s?"prose-invert":""),children:(0,j.jsx)(b.oz,{remarkPlugins:[p.A],components:{code(e){let{node:t,inline:s,className:r,children:n}=e,l=(0,o.A)(e,w);const i=/language-(\w+)/.exec(r||"");return!s&&i?(0,j.jsx)(g.A,(0,a.A)((0,a.A)({style:f.A,language:i[1],PreTag:"div",className:"rounded-lg text-xs"},l),{},{children:String(n).replace(/\n$/,"")})):(0,j.jsx)("code",(0,a.A)((0,a.A)({className:"".concat(r," px-1 py-0.5 rounded bg-slate-700 text-amber-400")},l),{},{children:n}))}},children:t.content})}),t.processingTime&&(0,j.jsxs)("p",{className:"text-xs text-slate-400 mt-2",children:[t.processingTime.toFixed(2),"s"]})]})})})})},y=e=>{let{darkMode:t}=e;return(0,j.jsx)("div",{className:"flex justify-start",children:(0,j.jsxs)("div",{className:"p-3 rounded-2xl flex items-center space-x-2 ".concat(t?"bg-slate-800 border border-slate-700":"bg-white border border-slate-200"),children:[(0,j.jsx)(l.A,{className:"animate-spin text-amber-500",size:16}),(0,j.jsx)("span",{className:"text-sm ".concat(t?"text-slate-300":"text-slate-600"),children:"Thinking..."})]})})},k=e=>{let{className:t,size:s}=e;return(0,j.jsxs)("svg",{className:t,width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,j.jsx)("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),(0,j.jsx)("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})},N=()=>{const[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(""),[b,p]=(0,r.useState)(!1),[g]=(0,r.useState)((0,x.A)()),[f,w]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1),I=(0,r.useRef)(null),S=(0,r.useRef)(null),C=(void 0).VITE_API_URL||"https://your-backend-url.com/api/v1";(0,r.useEffect)(()=>{const e="true"===localStorage.getItem("chatbot-dark-mode");w(e);const t=localStorage.getItem("chatbot-history-".concat(g));if(t)try{a(JSON.parse(t))}catch(s){console.error("Error loading chat history:",s)}T()},[g]),(0,r.useEffect)(()=>{s.length>0&&localStorage.setItem("chatbot-history-".concat(g),JSON.stringify(s))},[s,g]),(0,r.useEffect)(()=>{localStorage.setItem("chatbot-dark-mode",f.toString())},[f]);(0,r.useEffect)(()=>{(()=>{var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[s]),(0,r.useEffect)(()=>{var t;e&&(null===(t=S.current)||void 0===t||t.focus())},[e]);const T=async()=>{try{const e=await fetch("".concat(C,"/health"),{timeout:3e3});A(e.ok)}catch(e){A(!1)}},E=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!e.trim()||b)return;const t={role:"user",content:e.trim(),timestamp:(new Date).toISOString()};a(e=>[...e,t]),l(""),p(!0);try{if(!N){const e={role:"assistant",content:"**Backend Not Connected**\n\nThe AI chatbot backend is currently not deployed. To activate this feature, you'll need to:\n\n1. Deploy the FastAPI backend from the [chatbot repository](https://github.com/UsamaMasood12/chatbot)\n2. Set up the OpenAI API key\n3. Configure the backend URL\n\nIn the meantime, feel free to explore my portfolio to learn about my AI/ML projects and experience!",timestamp:(new Date).toISOString()};return void setTimeout(()=>{a(t=>[...t,e]),p(!1)},1e3)}const t=s.map(e=>({role:e.role,content:e.content,timestamp:e.timestamp})),o=await fetch("".concat(C,"/chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.trim(),conversation_history:t,session_id:g})});if(!o.ok)throw new Error("Failed to send message");const r=await o.json(),n={role:"assistant",content:r.response,timestamp:r.timestamp,processingTime:r.processing_time};a(e=>[...e,n])}catch(r){console.error("Error sending message:",r);const e={role:"assistant",content:"I apologize, but I'm having trouble connecting right now. Please try again in a moment or explore the portfolio directly.",timestamp:(new Date).toISOString(),isError:!0};a(t=>[...t,e])}finally{p(!1)}},O=()=>{if(t(!e),!e&&0===s.length){const e={role:"assistant",content:N?"Hi! I'm Usama's AI assistant. I can answer questions about his background, skills, projects, and experience. What would you like to know?":"Hi! I'm Usama's AI assistant. **Note:** The backend is currently not deployed, so I'm in demo mode. Feel free to explore the portfolio tabs to learn about Usama's AI/ML work, or check out the [chatbot repository](https://github.com/UsamaMasood12/chatbot) to see how this was built!",timestamp:(new Date).toISOString()};a([e])}};return(0,j.jsxs)(j.Fragment,{children:[!e&&(0,j.jsxs)("button",{onClick:O,className:"fixed bottom-6 right-6 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-white p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-50 group","aria-label":"Open chat assistant",children:[(0,j.jsx)(i.A,{size:28,className:"group-hover:rotate-12 transition-transform duration-300"}),(0,j.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),e&&(0,j.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] rounded-2xl shadow-2xl flex flex-col z-50 animate-slide-up border ".concat(f?"bg-slate-900 border-slate-700":"bg-white border-slate-200"),children:[(0,j.jsxs)("div",{className:"p-4 rounded-t-2xl flex justify-between items-center bg-gradient-to-r from-amber-500 to-amber-600",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:(0,j.jsx)(k,{className:"text-white",size:24})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-bold text-white",children:"AI Assistant"}),(0,j.jsx)("p",{className:"text-xs text-white/80",children:N?"Online":"Demo Mode"})]})]}),(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsx)("button",{onClick:()=>{w(!f)},className:"p-2 rounded-full hover:bg-white/20 transition-colors text-white","aria-label":"Toggle dark mode",title:"Toggle dark mode",children:f?(0,j.jsx)(h.A,{size:18}):(0,j.jsx)(c.A,{size:18})}),(0,j.jsx)("button",{onClick:()=>{const e=s.map(e=>"".concat("user"===e.role?"You":"Assistant",": ").concat(e.content)).join("\n\n"),t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download="chat-".concat((new Date).toISOString().split("T")[0],".txt"),o.click(),URL.revokeObjectURL(a)},className:"p-2 rounded-full hover:bg-white/20 transition-colors text-white","aria-label":"Export chat",title:"Export chat",disabled:0===s.length,children:(0,j.jsx)(n.A,{size:18})}),(0,j.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to clear the chat history?")&&(a([]),localStorage.removeItem("chatbot-history-".concat(g)))},className:"p-2 rounded-full hover:bg-white/20 transition-colors text-white","aria-label":"Clear chat",title:"Clear chat",children:(0,j.jsx)(d.A,{size:18})}),(0,j.jsx)("button",{onClick:O,className:"p-2 rounded-full hover:bg-white/20 transition-colors text-white","aria-label":"Close chat",children:(0,j.jsx)(u.A,{size:20})})]})]}),(0,j.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 ".concat(f?"bg-slate-900":"bg-slate-50"),children:[s.map((e,t)=>(0,j.jsx)(v,{message:e,darkMode:f},t)),b&&(0,j.jsx)(y,{darkMode:f}),s.length<=1&&(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)("p",{className:"text-sm font-medium ".concat(f?"text-slate-400":"text-slate-600"),children:"Suggested questions:"}),["Tell me about Usama's AI projects","What are his main technical skills?","What's his experience with LLMs?","Tell me about his education"].map((e,t)=>(0,j.jsx)("button",{onClick:()=>(e=>{E(e)})(e),className:"w-full text-left p-3 rounded-xl text-sm transition-all duration-300 transform hover:scale-105 ".concat(f?"bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300":"bg-white hover:bg-amber-50 border border-slate-200 hover:border-amber-400 text-slate-700"),children:e},t))]}),(0,j.jsx)("div",{ref:I})]}),(0,j.jsxs)("div",{className:"p-4 border-t rounded-b-2xl ".concat(f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"),children:[(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsx)("input",{ref:S,type:"text",value:o,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E())},placeholder:"Ask me anything...",className:"flex-1 p-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 ".concat(f?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900"),disabled:b}),(0,j.jsx)("button",{onClick:()=>E(),disabled:!o.trim()||b,className:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-white p-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105","aria-label":"Send message",children:(0,j.jsx)(m.A,{size:20})})]}),(0,j.jsx)("p",{className:"text-xs mt-2 text-center ".concat("text-slate-500"),children:"Powered by RAG & OpenAI"})]})]}),(0,j.jsx)("style",{children:"\n        @keyframes slide-up {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        .animate-slide-up {\n          animation: slide-up 0.3s ease-out;\n        }\n      "})]})}}}]);
//# sourceMappingURL=162.babcf8d4.chunk.js.map