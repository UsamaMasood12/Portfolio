{"version":3,"file":"static/js/162.babcf8d4.chunk.js","mappings":"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","sources":["components/ChatBot.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { MessageCircle, X, Send, Loader2, RotateCcw, Download, Moon, Sun } from 'lucide-react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\n\r\nconst ChatBot = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [sessionId] = useState(uuidv4());\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const [backendAvailable, setBackendAvailable] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  const API_URL = import.meta.env.VITE_API_URL || 'https://your-backend-url.com/api/v1';\r\n\r\n  const suggestions = [\r\n    \"Tell me about Usama's AI projects\",\r\n    \"What are his main technical skills?\",\r\n    \"What's his experience with LLMs?\",\r\n    \"Tell me about his education\"\r\n  ];\r\n\r\n  // Load dark mode preference and chat history from localStorage\r\n  useEffect(() => {\r\n    const savedDarkMode = localStorage.getItem('chatbot-dark-mode') === 'true';\r\n    setDarkMode(savedDarkMode);\r\n\r\n    const savedMessages = localStorage.getItem(`chatbot-history-${sessionId}`);\r\n    if (savedMessages) {\r\n      try {\r\n        setMessages(JSON.parse(savedMessages));\r\n      } catch (e) {\r\n        console.error('Error loading chat history:', e);\r\n      }\r\n    }\r\n\r\n    // Check if backend is available\r\n    checkBackendHealth();\r\n  }, [sessionId]);\r\n\r\n  // Save messages to localStorage\r\n  useEffect(() => {\r\n    if (messages.length > 0) {\r\n      localStorage.setItem(`chatbot-history-${sessionId}`, JSON.stringify(messages));\r\n    }\r\n  }, [messages, sessionId]);\r\n\r\n  // Save dark mode preference\r\n  useEffect(() => {\r\n    localStorage.setItem('chatbot-dark-mode', darkMode.toString());\r\n  }, [darkMode]);\r\n\r\n  // Scroll to bottom\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // Focus input when opened\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      inputRef.current?.focus();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const checkBackendHealth = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/health`, { timeout: 3000 });\r\n      setBackendAvailable(response.ok);\r\n    } catch (error) {\r\n      setBackendAvailable(false);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async (text = inputValue) => {\r\n    if (!text.trim() || isLoading) return;\r\n\r\n    const userMessage = {\r\n      role: 'user',\r\n      content: text.trim(),\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputValue('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      if (!backendAvailable) {\r\n        // Fallback response when backend is not available\r\n        const fallbackMessage = {\r\n          role: 'assistant',\r\n          content: \"**Backend Not Connected**\\n\\nThe AI chatbot backend is currently not deployed. To activate this feature, you'll need to:\\n\\n1. Deploy the FastAPI backend from the [chatbot repository](https://github.com/UsamaMasood12/chatbot)\\n2. Set up the OpenAI API key\\n3. Configure the backend URL\\n\\nIn the meantime, feel free to explore my portfolio to learn about my AI/ML projects and experience!\",\r\n          timestamp: new Date().toISOString(),\r\n        };\r\n\r\n        setTimeout(() => {\r\n          setMessages(prev => [...prev, fallbackMessage]);\r\n          setIsLoading(false);\r\n        }, 1000);\r\n        return;\r\n      }\r\n\r\n      // Send message to backend\r\n      const conversationHistory = messages.map(msg => ({\r\n        role: msg.role,\r\n        content: msg.content,\r\n        timestamp: msg.timestamp,\r\n      }));\r\n\r\n      const response = await fetch(`${API_URL}/chat`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          message: text.trim(),\r\n          conversation_history: conversationHistory,\r\n          session_id: sessionId,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Failed to send message');\r\n\r\n      const data = await response.json();\r\n\r\n      const assistantMessage = {\r\n        role: 'assistant',\r\n        content: data.response,\r\n        timestamp: data.timestamp,\r\n        processingTime: data.processing_time,\r\n      };\r\n\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n\r\n      const errorMessage = {\r\n        role: 'assistant',\r\n        content: \"I apologize, but I'm having trouble connecting right now. Please try again in a moment or explore the portfolio directly.\",\r\n        timestamp: new Date().toISOString(),\r\n        isError: true,\r\n      };\r\n\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    handleSendMessage(suggestion);\r\n  };\r\n\r\n  const handleClearChat = () => {\r\n    if (window.confirm('Are you sure you want to clear the chat history?')) {\r\n      setMessages([]);\r\n      localStorage.removeItem(`chatbot-history-${sessionId}`);\r\n    }\r\n  };\r\n\r\n  const toggleDarkMode = () => {\r\n    setDarkMode(!darkMode);\r\n  };\r\n\r\n  const exportChat = () => {\r\n    const chatText = messages.map(m =>\r\n      `${m.role === 'user' ? 'You' : 'Assistant'}: ${m.content}`\r\n    ).join('\\n\\n');\r\n\r\n    const blob = new Blob([chatText], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `chat-${new Date().toISOString().split('T')[0]}.txt`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const toggleChat = () => {\r\n    setIsOpen(!isOpen);\r\n    if (!isOpen && messages.length === 0) {\r\n      // Add welcome message\r\n      const welcomeMessage = {\r\n        role: 'assistant',\r\n        content: backendAvailable\r\n          ? \"Hi! I'm Usama's AI assistant. I can answer questions about his background, skills, projects, and experience. What would you like to know?\"\r\n          : \"Hi! I'm Usama's AI assistant. **Note:** The backend is currently not deployed, so I'm in demo mode. Feel free to explore the portfolio tabs to learn about Usama's AI/ML work, or check out the [chatbot repository](https://github.com/UsamaMasood12/chatbot) to see how this was built!\",\r\n        timestamp: new Date().toISOString(),\r\n      };\r\n      setMessages([welcomeMessage]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Chat Widget Button */}\r\n      {!isOpen && (\r\n        <button\r\n          onClick={toggleChat}\r\n          className=\"fixed bottom-6 right-6 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-white p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-50 group\"\r\n          aria-label=\"Open chat assistant\"\r\n        >\r\n          <MessageCircle size={28} className=\"group-hover:rotate-12 transition-transform duration-300\" />\r\n          <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse\"></div>\r\n        </button>\r\n      )}\r\n\r\n      {/* Chat Window */}\r\n      {isOpen && (\r\n        <div\r\n          className={`fixed bottom-6 right-6 w-96 h-[600px] rounded-2xl shadow-2xl flex flex-col z-50 animate-slide-up border ${\r\n            darkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'\r\n          }`}\r\n        >\r\n          {/* Header */}\r\n          <div className=\"p-4 rounded-t-2xl flex justify-between items-center bg-gradient-to-r from-amber-500 to-amber-600\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center\">\r\n                <Brain className=\"text-white\" size={24} />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-bold text-white\">AI Assistant</h3>\r\n                <p className=\"text-xs text-white/80\">\r\n                  {backendAvailable ? 'Online' : 'Demo Mode'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={toggleDarkMode}\r\n                className=\"p-2 rounded-full hover:bg-white/20 transition-colors text-white\"\r\n                aria-label=\"Toggle dark mode\"\r\n                title=\"Toggle dark mode\"\r\n              >\r\n                {darkMode ? <Sun size={18} /> : <Moon size={18} />}\r\n              </button>\r\n              <button\r\n                onClick={exportChat}\r\n                className=\"p-2 rounded-full hover:bg-white/20 transition-colors text-white\"\r\n                aria-label=\"Export chat\"\r\n                title=\"Export chat\"\r\n                disabled={messages.length === 0}\r\n              >\r\n                <Download size={18} />\r\n              </button>\r\n              <button\r\n                onClick={handleClearChat}\r\n                className=\"p-2 rounded-full hover:bg-white/20 transition-colors text-white\"\r\n                aria-label=\"Clear chat\"\r\n                title=\"Clear chat\"\r\n              >\r\n                <RotateCcw size={18} />\r\n              </button>\r\n              <button\r\n                onClick={toggleChat}\r\n                className=\"p-2 rounded-full hover:bg-white/20 transition-colors text-white\"\r\n                aria-label=\"Close chat\"\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Messages Container */}\r\n          <div className={`flex-1 overflow-y-auto p-4 space-y-4 ${\r\n            darkMode ? 'bg-slate-900' : 'bg-slate-50'\r\n          }`}>\r\n            {messages.map((message, index) => (\r\n              <Message\r\n                key={index}\r\n                message={message}\r\n                darkMode={darkMode}\r\n              />\r\n            ))}\r\n\r\n            {isLoading && <TypingIndicator darkMode={darkMode} />}\r\n\r\n            {messages.length <= 1 && (\r\n              <div className=\"space-y-2\">\r\n                <p className={`text-sm font-medium ${darkMode ? 'text-slate-400' : 'text-slate-600'}`}>\r\n                  Suggested questions:\r\n                </p>\r\n                {suggestions.map((suggestion, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => handleSuggestionClick(suggestion)}\r\n                    className={`w-full text-left p-3 rounded-xl text-sm transition-all duration-300 transform hover:scale-105 ${\r\n                      darkMode\r\n                        ? 'bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300'\r\n                        : 'bg-white hover:bg-amber-50 border border-slate-200 hover:border-amber-400 text-slate-700'\r\n                    }`}\r\n                  >\r\n                    {suggestion}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {/* Input Area */}\r\n          <div className={`p-4 border-t rounded-b-2xl ${\r\n            darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-slate-200'\r\n          }`}>\r\n            <div className=\"flex space-x-2\">\r\n              <input\r\n                ref={inputRef}\r\n                type=\"text\"\r\n                value={inputValue}\r\n                onChange={(e) => setInputValue(e.target.value)}\r\n                onKeyPress={handleKeyPress}\r\n                placeholder=\"Ask me anything...\"\r\n                className={`flex-1 p-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 ${\r\n                  darkMode\r\n                    ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400'\r\n                    : 'bg-white border-slate-300 text-slate-900'\r\n                }`}\r\n                disabled={isLoading}\r\n              />\r\n              <button\r\n                onClick={() => handleSendMessage()}\r\n                disabled={!inputValue.trim() || isLoading}\r\n                className=\"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-white p-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105\"\r\n                aria-label=\"Send message\"\r\n              >\r\n                <Send size={20} />\r\n              </button>\r\n            </div>\r\n            <p className={`text-xs mt-2 text-center ${\r\n              darkMode ? 'text-slate-500' : 'text-slate-500'\r\n            }`}>\r\n              Powered by RAG & OpenAI\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        @keyframes slide-up {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(20px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        .animate-slide-up {\r\n          animation: slide-up 0.3s ease-out;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\n// Message Component\r\nconst Message = ({ message, darkMode }) => {\r\n  const isUser = message.role === 'user';\r\n  const isError = message.isError;\r\n\r\n  return (\r\n    <div className={`flex ${isUser ? 'justify-end' : 'justify-start'}`}>\r\n      <div\r\n        className={`max-w-[85%] rounded-2xl ${\r\n          isUser\r\n            ? 'bg-gradient-to-r from-amber-500 to-amber-600 text-white'\r\n            : isError\r\n            ? 'bg-red-100 text-red-900 border border-red-300'\r\n            : darkMode\r\n            ? 'bg-slate-800 text-slate-100 border border-slate-700'\r\n            : 'bg-white text-slate-800 border border-slate-200'\r\n        }`}\r\n      >\r\n        <div className=\"p-3\">\r\n          {isUser ? (\r\n            <p className=\"text-sm\">{message.content}</p>\r\n          ) : (\r\n            <>\r\n              <div className={`prose prose-sm max-w-none ${darkMode ? 'prose-invert' : ''}`}>\r\n                <ReactMarkdown\r\n                  remarkPlugins={[remarkGfm]}\r\n                  components={{\r\n                    code({ node, inline, className, children, ...props }) {\r\n                      const match = /language-(\\w+)/.exec(className || '');\r\n                      return !inline && match ? (\r\n                        <SyntaxHighlighter\r\n                          style={vscDarkPlus}\r\n                          language={match[1]}\r\n                          PreTag=\"div\"\r\n                          className=\"rounded-lg text-xs\"\r\n                          {...props}\r\n                        >\r\n                          {String(children).replace(/\\n$/, '')}\r\n                        </SyntaxHighlighter>\r\n                      ) : (\r\n                        <code className={`${className} px-1 py-0.5 rounded bg-slate-700 text-amber-400`} {...props}>\r\n                          {children}\r\n                        </code>\r\n                      );\r\n                    },\r\n                  }}\r\n                >\r\n                  {message.content}\r\n                </ReactMarkdown>\r\n              </div>\r\n\r\n              {message.processingTime && (\r\n                <p className=\"text-xs text-slate-400 mt-2\">\r\n                  {message.processingTime.toFixed(2)}s\r\n                </p>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Typing Indicator Component\r\nconst TypingIndicator = ({ darkMode }) => (\r\n  <div className=\"flex justify-start\">\r\n    <div className={`p-3 rounded-2xl flex items-center space-x-2 ${\r\n      darkMode ? 'bg-slate-800 border border-slate-700' : 'bg-white border border-slate-200'\r\n    }`}>\r\n      <Loader2 className=\"animate-spin text-amber-500\" size={16} />\r\n      <span className={`text-sm ${darkMode ? 'text-slate-300' : 'text-slate-600'}`}>Thinking...</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Import Brain icon\r\nconst Brain = ({ className, size }) => (\r\n  <svg\r\n    className={className}\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <path d=\"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z\"/>\r\n    <path d=\"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z\"/>\r\n  </svg>\r\n);\r\n\r\nexport default ChatBot;\r\n"],"names":["Message","_ref","message","darkMode","isUser","role","isError","_jsx","className","concat","children","content","_jsxs","_Fragment","ReactMarkdown","remarkPlugins","remarkGfm","components","code","_ref2","node","inline","props","_objectWithoutProperties","_excluded","match","exec","SyntaxHighlighter","_objectSpread","style","vscDarkPlus","language","PreTag","String","replace","processingTime","toFixed","TypingIndicator","_ref3","Loader2","size","Brain","_ref4","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","ChatBot","isOpen","setIsOpen","useState","messages","setMessages","inputValue","setInputValue","isLoading","setIsLoading","sessionId","uuidv4","setDarkMode","backendAvailable","setBackendAvailable","messagesEndRef","useRef","inputRef","API_URL","import","useEffect","savedDarkMode","localStorage","getItem","savedMessages","JSON","parse","e","console","error","checkBackendHealth","length","setItem","stringify","toString","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","_inputRef$current","focus","async","response","fetch","timeout","ok","handleSendMessage","text","arguments","undefined","trim","userMessage","timestamp","Date","toISOString","prev","fallbackMessage","setTimeout","conversationHistory","map","msg","method","headers","body","conversation_history","session_id","Error","data","json","assistantMessage","processing_time","errorMessage","toggleChat","welcomeMessage","onClick","MessageCircle","toggleDarkMode","title","Sun","Moon","exportChat","chatText","m","join","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","split","click","revokeObjectURL","disabled","Download","handleClearChat","window","confirm","removeItem","RotateCcw","X","index","suggestion","handleSuggestionClick","ref","value","onChange","target","onKeyPress","key","shiftKey","preventDefault","placeholder","Send"],"sourceRoot":""}